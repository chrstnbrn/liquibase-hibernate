name: Release Extension to Sonatype

on:
  workflow_dispatch:
  release:
    types: [published]

permissions:
  contents: write
  pull-requests: write
  
jobs:
  release-hibernate6:
    uses: liquibase/build-logic/.github/workflows/extension-release-published.yml@DAT-16025
    with:
      branch: 'main'
    secrets: inherit

  release-hibernate5:
    uses: liquibase/build-logic/.github/workflows/extension-release-published.yml@DAT-16025
    with:
      branch: 'hibernate5'
    secrets: inherit